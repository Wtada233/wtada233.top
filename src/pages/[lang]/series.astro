---
import SeriesPanel from "@components/SeriesPanel.astro";
import { seriesConfig } from "@configs/series";
import I18nKey from "@i18n/i18nKey";
import { i18n } from "@i18n/translation";
import MainGridLayout from "@layouts/MainGridLayout.astro";
import { SUPPORTED_LANGUAGES, type SupportedLanguage } from "@utils/i18n-runtime";

export async function getStaticPaths() {
	return SUPPORTED_LANGUAGES.map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const currentLang = lang as SupportedLanguage;
---

<MainGridLayout title={i18n(I18nKey.series, {}, currentLang)} lang={currentLang}>
    <div class="card-base p-6 mb-4 flex items-center justify-center">
        <h1 class="text-2xl font-bold text-90">
            {i18n(I18nKey.series, {}, currentLang)}
        </h1>
    </div>
    {seriesConfig.enabled ? (
        <SeriesPanel></SeriesPanel>
    ) : (
        <div class="card-base px-8 py-6">
            <p class="text-center text-red-500 font-bold">Series feature is currently disabled.</p>
        </div>
    )}
</MainGridLayout>
